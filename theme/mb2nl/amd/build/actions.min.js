/**
 *
 * @package   theme_mb2nl
 * @copyright 2017 - 2025 Mariusz Boloz (lmsstyle.com)
 * @license   PHP and HTML: http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later. Other parts: http://themeforest.net/licenses
 *
 */ define(["jquery","theme_mb2nl/str"],function(n,e){"use strict";var t=function(){n(document).on("click",".show-menu",function(){let e=n("#main-navigation"),t=n(this),o=t.find(".icon1"),a=t.find(".icon2");e.hasClass("open")?(e.removeClass("open"),a.addClass("d-none"),o.removeClass("d-none"),t.attr("aria-expanded","false")):(e.addClass("open"),t.attr("aria-expanded","true"),a.removeClass("d-none"),o.addClass("d-none"))})};let o=()=>{let e=[],t=0;return n(".menu-extra-controls-btn").each(function(){e[t]=n(this).attr("aria-controls"),t++}),e},a=()=>{n(document).on("click",".menu-extra-controls-btn",function(){n(this).hasClass("active")?i():s(n(this).attr("aria-controls"))}),n(document).on("keydown",".menu-extra-controls-btn",function(e){let t=n(this).attr("aria-controls"),a=o();"ArrowRight"===e.key?a.indexOf(t)+1<a.length?s(a[a.indexOf(t)+1]):s(a[0]):"ArrowLeft"===e.key?a.indexOf(t)>0?s(a[a.indexOf(t)-1]):s(a[a.length-1]):"Home"===e.key?s(a[0]):"End"===e.key&&s(a[a.length-1])})},s=e=>{let t=n(".menu-extra-controls-btn"),o=n('[aria-controls="'+e+'"]');t.removeClass("active"),t.find(".icon2").addClass("d-none"),t.find(".icon1").removeClass("d-none"),t.attr("aria-expanded","false"),t.attr("tabindex",-1),n(".menu-extracontent-content").removeClass("open"),o.addClass("active"),o.find(".icon1").addClass("d-none"),o.find(".icon2").removeClass("d-none"),o.attr("aria-expanded","true"),o.attr("tabindex",0),n("#"+e).addClass("open"),o.focus()},i=()=>{let e=n(".menu-extra-controls-btn");n(".menu-extracontent-content").removeClass("open"),e.removeClass("active"),e.attr("aria-expanded","false"),e.attr("tabindex",0),e.find(".icon2").addClass("d-none"),e.find(".icon1").removeClass("d-none")};var r=function(){n(window).on("scroll",function(){n("#page").css("--mb2-htmlscl",n("html").scrollLeft()+"px")})},l=function(){var t=n(".header-tools").find('[data-region="popover-region-messages"] .popover-region-toggle'),o=n(".header-tools").find(".popover-region-notifications .popover-region-toggle");t.append('<span class="text1">'+e.get_str("messages")+"</span>"),o.append('<span class="text1">'+e.get_str("notifications")+"</span>")},d=function(){n(document).on("click",".rating-details-toggle",function(e){e.preventDefault();var t=n(this).closest(".block_mb2reviews").find(".mb2reviews-rating-more");t.hasClass("show")?t.removeClass("show"):t.addClass("show")})};let c=()=>{n(".no-overflow").each(function(){(n(this).find(".theme-boxes").length||n(this).find(".container-fluid").length)&&n(this).addClass("iscontentpart")})};return{init:function(){a(),t(),r(),l(),d(),c()},noOverflowCls:c}});