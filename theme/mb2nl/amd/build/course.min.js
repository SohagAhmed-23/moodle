/**
 *
 * @package   theme_mb2nl
 * @copyright 2017 - 2025 Mariusz Boloz (lmsstyle.com)
 * @license   PHP and HTML: http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later. Other parts: http://themeforest.net/licenses
 */ define(["jquery","theme_mb2nl/userpreference","core/ajax","theme_mb2nl/morelessbtn"],function(e,t,o,s){"use strict";let n=e("#page"),a=o=>{e(document).on("click",o,function(){t.setCookie("mb2_scrolltop",e("html").scrollTop())});let s=t.getCookie("mb2_scrolltop");s>0&&(e("html, body").stop().animate({scrollTop:s},550),t.setCookie("mb2_scrolltop",0))},r=t=>{let a=e("ul.course-instructors");(e=>{let t={courseid:e,ptype:n.attr("data-ptype")};return o.call([{methodname:"theme_mb2nl_course_teacher_list",args:t}])[0]})(t).then(e=>{a.append(e.teachers),s.init()}).catch(e=>{require(["core/log"],function(t){t.debug(e)})})};var c=function(o,s){0==o?e(".course-nav-list-container.layout-hor").removeClass("open"):o.removeClass("open"),s&&t.sePreference("mb2_cnavstate","close")},l=function(o,s){0==o?e(".course-nav-list-container.layout-hor").addClass("open"):o.addClass("open"),s&&t.sePreference("mb2_cnavstate","open")};return{sectionsToggle:function(){e(".course-nav-list-container").hasClass("layout-hor")&&e("body").on("click",function(t){e(t.target).closest(".course-nav-list-ccontent").length||c(0,0)}),e(document).on("click",".course-nav-list-item-toggle",function(){var t=e(this).closest(".course-nav-list-container"),o=e(this).closest(".layout-hor").length?0:1;t.hasClass("open")?(c(t,o),e(this).attr("aria-expanded","false")):(l(t,o),e(this).attr("aria-expanded","true"))})},teacherListLoad:r,setTopscroll:a}});