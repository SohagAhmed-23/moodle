/**
 *
 * @package   theme_mb2nl
 * @copyright 2017 - 2025 Mariusz Boloz (lmsstyle.com)
 * @license   PHP and HTML: http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later. Other parts: http://themeforest.net/licenses
 */ define(["jquery"],function(t){"use strict";let e=()=>{let e=[],a=0;return t(".enrol-nav-btn").each(function(){e[a]=t(this).attr("data-tabid"),a++}),e},a=()=>{let a=e();if(a.length<2)return null;t(document).on("click",".enrol-nav-btn, .out-navitem",function(e){e.preventDefault();let a=t(this).attr("data-tabid");n(a)}),t(document).on("keydown",".enrol-nav-btn",function(e){let o=t(this).attr("data-tabid");"ArrowRight"===e.key?a.indexOf(o)+1<a.length?n(a[a.indexOf(o)+1]):n(a[0]):"ArrowLeft"===e.key?a.indexOf(o)>0?n(a[a.indexOf(o)-1]):n(a[a.length-1]):"Home"===e.key?n(a[0]):"End"===e.key&&n(a[a.length-1])})},n=e=>{let a=t('button[data-tabid="'+e+'"'),n=t("#"+a.attr("aria-controls")),o=t(".enrol-tab-content"),s=t(".enrol-nav-btn");o.addClass("d-none"),s.closest(".enrol-course-navitem").removeClass("active"),s.attr("aria-selected","false"),s.attr("tabindex",-1),a.closest(".enrol-course-navitem").addClass("active"),a.attr("aria-selected","true"),a.attr("tabindex",0),n.removeClass("d-none"),a.focus()};var o=function(e,a,n){var o=t(window),s=t("body"),r=t(".enrol-course-nav"),l=t(".enrol-course-nav-replace"),i=l.offset().top;if(!s.hasClass("eopn1"))return null;o.scrollTop()>i+(a-e)?(l.css("height",a),r.addClass("sticky-el"),n&&r.removeClass("tabalt")):(r.removeClass("sticky-el"),n&&r.addClass("tabalt"),l.css("height",0))},s=function(e,a){var n=t(window),o=t(".course-csection"),s=o.length,r=0;o.each(function(){r++;var o=t(this).offset().top,l=t(this).outerHeight(),i=o-a-e,c=t('.enrol-nav-btn[href="#'+t(this).attr("id")+'"]').closest(".enrol-course-navitem").addClass("active"),u=r==s?i+.33*l:i+l;n.scrollTop()>=i&&n.scrollTop()<=u?c.addClass("active"):c.removeClass("active")})};return{onePageNav:function(){var e=t(".enrol-course-nav"),a=t(".enrol-course-nav").outerHeight(),n=t(".enrol-course-nav").outerHeight(!0),r=n-a,l=t(".details-section").outerHeight(!0)-t(".details-section").outerHeight(),i=!!e.hasClass("tabalt");t(".enrol-nav-btn,.out-navitem").each(function(){t(this).click(function(e){e.preventDefault(),t("html, body").stop().animate({scrollTop:t(t(this).attr("href")).offset().top-r-.3*l},1200)})}),o(a,n,i),s(a,l),t(window).on("scroll",function(){o(a,n,i),s(a,l)})},navTabs:a}});