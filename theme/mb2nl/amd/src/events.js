/**
 *
 * @package   theme_mb2nl
 * @copyright 2017 - 2025 Mariusz Boloz (lmsstyle.com)
 * @license   PHP and HTML: http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later. Other parts: http://themeforest.net/licenses
 */ define(["jquery","core/ajax","core/notification","theme_mb2nl/str"],function(e,t,n,a){"use strict";var s=function(t){e(".mb2-pb-events-items.active").append(t.event),d(t.eventid)},i=function(){var e="";return e+='<div id="mb2-pb-events-modal" class="modal theme-modal theme-forms fade" role="dialog" tabindex="0" aria-labelledby="mb2-pb-events-modal" aria-describedby="mb2-pb-events-modal" aria-modal="true">',e+='<div class="modal-dialog modal-md" role="document">',e+='<div class="modal-content">',e+='<div class="theme-modal-container">',e+='<button class="close-container themereset p-0 lhsmall position-absolute d-inline-flex justify-content-center align-items-center" data-dismiss="modal" data-bs-dismiss="modal"><span class="sr-only"> '+a.get_str("closebuttontitle")+' </span><i class="bi bi-x-lg" aria-hidden="true"></i></button>',e+='<div class="event-modal-content"></div>',e+="</div>",e+='<button class="themereset themekeynavonly" data-dismiss="modal" data-bs-dismiss="modal">'+a.get_str("closebuttontitle")+"</button>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"},d=function(t){var n=e(".mb2-pb-events-items.active").find(".event-item-"+t).clone();e("#mb2-pb-events-modal").find(".event-modal-content").append(n),e(".mb2-pb-events-items").removeClass("active"),setTimeout(function(){e("#mb2-pb-events-modal").removeClass("loading")},600)};return{eventDetails:function(){e(document).on("click",".event-show",function(a){var o=e(this),l=o.closest(".event-item").attr("data-id"),m=o.closest(".mb2-pb-events").find(".mb2-pb-events-items"),v=m.find(".event-item-"+l);a.preventDefault(),m.addClass("active"),e("#mb2-pb-events-modal").length?e("#mb2-pb-events-modal").find(".event-modal-content").html(""):e("body").append(i()),e("#mb2-pb-events-modal").modal("show"),v.length?d(l):(e("#mb2-pb-events-modal").addClass("loading"),t.call([{methodname:"theme_mb2nl_event_details",args:{eventid:l},done:function(e){s(e)},fail:n.exception}]))})}}});